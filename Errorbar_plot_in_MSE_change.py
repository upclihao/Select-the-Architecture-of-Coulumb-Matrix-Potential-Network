import numpy as np
import matplotlib.pyplot as plt
%matplotlib inline

loss_64 = [0.000771005902878824,0.0004987319246792295,0.0005864218945955872,0.000610584981307913,
          0.0010627569133567214,0.0004786603233515156,0.0004578907637229699]
loss_32 = [0.0007742779335114218,0.000522763820652097,0.001114938988027721,0.000388821949434396,
          0.0004490993391333855,0.00043556778367207644,0.0006613921092318607]
loss_128 = [0.00043336279244594,0.000542124384066335,0.0004812075519371493,0.000641349976149054,
           0.0003996725888823731,0.000957608938342644,0.000510335852630826]
loss_256 = [0.0006357489469807433,0.000626783838392129,0.0004259836261837506,0.001067487303538488,
           0.000532839810444997,0.00055284187245651,0.0004509801656508924]
loss_512 = [0.00279503859141839,0.00143788547646017,0.001244880245152441,0.003613827059658609,
           0.00271437596921930,0.000903704785780444,0.0033589613725862727]
loss_16 = [0.0010594643301890326,0.0013573539609843532,0.0005479309501676877,0.000655820017735523,
          0.000507128871010333,0.00045487414329802,0.00048605188099840936]
loss_8 = [0.0005664353235687694,0.001042797001952682,0.0006537348023038879,0.000780296078469225,
         0.000653734802303887,0.000712136994224182,0.0006096444372199609]

loss_8 = np.array(loss_8)
loss_16 = np.array(loss_16)
loss_32 = np.array(loss_32)
loss_64 = np.array(loss_64)
loss_128 = np.array(loss_128)
loss_256 = np.array(loss_256)
loss_512 = np.array(loss_512)
bar_8 = (np.max(loss_8)-np.min(loss_8))/2
bar_16 = (np.max(loss_16)-np.min(loss_16))/2
bar_32 = (np.max(loss_32)-np.min(loss_32))/2
bar_64 = (np.max(loss_64)-np.min(loss_64))/2
bar_128 = (np.max(loss_128)-np.min(loss_128))/2
bar_256 = (np.max(loss_256)-np.min(loss_256))/2
bar_512 = (np.max(loss_512)-np.min(loss_512))/2

x = np.array([3,4,5,6,7,8,9])
y = np.array([np.mean(loss_8),np.mean(loss_16),np.mean(loss_32),np.mean(loss_64),np.mean(loss_128)
             ,np.mean(loss_256),np.mean(loss_512)])*27*1000
print(x,y)
fig,ax = plt.subplots()
ax.errorbar(x,y,yerr=np.array([bar_8,bar_16,bar_32,bar_64,bar_128,bar_256,bar_512])*10000)
ax.set_ylabel('Test set MSE (meV)')
ax.set_xlabel('N in 276-'+ r'$2^n$'+ '-' + \
              r'$2^n$'+ '-' + r'$2^n$'+ '-' + r'$2^n$'+ '-1 architecture')
#ax.set_xlabel("N-"+r'$2^n$')
plt.show()